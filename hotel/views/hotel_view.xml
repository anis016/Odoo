<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
    <menuitem id="hotel_management_menu" name="AnL Rent Management" web_icon="data/hotel-grey.png"
                  web_icon_hover="data/hotel-color.png"/>
    <menuitem id="hotel_configuration_menu" name="Configuration" sequence="20" parent ="hotel_management_menu"/>
    <menuitem id="hotel_report_menu" name="Reports" sequence="6" parent="hotel_management_menu"/>

	<!-- ###############################################
		 #############Company Configuration#############
   	     ###############################################
   -->

    <!-- For the Commission calculation -->
    <record id="view_commission_settings_sales_users" model="ir.ui.view">
      <field name="name">commission sales users inherit</field>
      <field name="model">res.users</field>
      <field name="inherit_id" ref="base.view_users_form" />
        <field name="arch" type="xml">
          <xpath expr="//notebook" position="inside">
                  <page string="Commission Settings">
                    <group>
	                    <div>
				    		<label string="Commission" />
				    		<field name="commission"/>
				    	</div>
				    	<div>
				    		<label string="Total Commission" />
				    		<field name="commission_total" />
				    	</div>
			    	</group>
                  </page>
          </xpath>
        </field>
    </record>

    <!-- Add commission to the hotel.folio -->
    <record id="view_commission_hotel_folio_sales" model="ir.ui.view">
        <field name="name">commission hotel folio inherit</field>
        <field name="model">hotel.folio</field>
        <field name="inherit_id" ref="hotel.view_hotel_folio1_form" />
          <field name="arch" type="xml">
            <xpath expr="//field[@name='user_id']" position="after">
                      <field name="commission" />
            </xpath>
          </field>
      </record>

	<record id="res_company_inherit_config_hotel" model="ir.ui.view">
			<field name="name">res.company.inherit.config.hotel</field>
			<field name="model">res.company</field>
			<field name="inherit_id" ref="base.view_company_form" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='currency_id']" position="after">
					<field name="additional_hours"/>
				</xpath>
			</field>
		</record>

    <!--====================================================
                                Floor
        ==================================================== -->
    <!-- Form view of hotel floor -->
    <!-- <record model="ir.ui.view" id="view_hotel_floor_form">
            <field name="name">hotel.floor.form</field>
            <field name="model">hotel.floor</field>
            <field name="arch" type="xml">
                <form string=" Hotel Floor" >
                 <sheet>
                   <group>
                    <field name="name" colspan="1"/>
                    <field name="sequence" select="1"/>
                   </group>
                 </sheet>
                </form>
            </field>
        </record> -->

        <!-- Tree view of hotel floor -->
        <!-- <record model="ir.ui.view" id="view_hotel_floor_tree">
            <field name="name">hotel.floor.tree</field>
            <field name="model">hotel.floor</field>
            <field name="arch" type="xml">
                <tree string=" Hotel Floors">
                    <field name="name" colspan="1"/>
                    <field name="sequence" select="1"/>
                </tree>
            </field>
        </record> -->

        <!-- Action of hotel floor -->
        <!-- <record model="ir.actions.act_window" id="open_hotel_floor_form_tree">
            <field name="name">Floor Structure</field>
            <field name="res_model">hotel.floor</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem name="Floor"
                  id="menu_open_hotel_floor_form_tree"
                  action="open_hotel_floor_form_tree"
                  sequence="21"
                  parent="hotel_configuration_menu"/> -->

	 <!--========================================================
                                Room Type
        ========================================================-->

       <!-- Form view of hotel room type -->
       <record model="ir.ui.view" id="view_hotel_room_type_form">
            <field name="name">hotel.room_type.form</field>
            <field name="model">hotel.room.type</field>
            <field name="arch" type="xml">
                <form string="Vehicle Type" >
                  <sheet>
                   <group>
                    <field name="name" select="1"/>
                    <field name="parent_id" domain="[('isroomtype','=',True)]" select="1"/>
                    <field name="isroomtype" invisible="1"/>
                   </group>
                  </sheet>
                </form>
            </field>
        </record>

        <!-- Tree view of hotel room type -->
        <record model="ir.ui.view" id="view_hotel_room_type_tree">
            <field name="name">hotel.room_type.tree</field>
            <field name="model">hotel.room.type</field>
            <field name="arch" type="xml">
                <tree string="Vehicle Type">
                    <field name="complete_name"/>
                </tree>
            </field>
        </record>

        <!-- Action for hotel room type -->
        <record model="ir.actions.act_window" id="open_hotel_room_type_form_tree">
            <field name="name">Vehicle Type</field>
            <field name="res_model">hotel.room.type</field>
            <field name="view_type">form</field>
            <field name="context">{'default_isroomtype':1}</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem id="menu_hotel_room" name="Vehicles" parent="hotel.hotel_configuration_menu" sequence="2"/>
        <menuitem name="Vehicle Types"
                  id="menu_open_hotel_room_type_form_tree"
                  action="open_hotel_room_type_form_tree"
                  sequence="6"
                  parent="hotel.menu_hotel_room"/>

		<!--====================================================================
                                Amenities Type
        ====================================================================-->
        <!-- Form view of hotel room amenities type -->
        <!-- <record model="ir.ui.view" id="view_hotel_room_amenities_type_form">
            <field name="name">hotel.room_amenities_type_form</field>
            <field name="model">hotel.room.amenities.type</field>
            <field name="arch" type="xml">
                <form string="Hotel Room Amenities Type" >
                  <sheet>
                   <group>
                    <field name="name" string="Amenity Type"/>
                    <field name="parent_id" domain="[('isamenitytype','=',True)]"/>
                    <field name = "isamenitytype" invisible="1"/>
                   </group>
                  </sheet>
                </form>
            </field>
        </record> -->

        <!-- Tree view of hotel room amenities type -->
        <!-- <record model="ir.ui.view" id="view_hotel_room_amenities_type_list">
            <field name="name">hotel.room_amenities_type_list</field>
            <field name="model">hotel.room.amenities.type</field>
            <field name="arch" type="xml">
                <tree string="Hotel Room Amenities Type">
                    <field name="complete_name"/>
                </tree>
            </field>
        </record> -->

        <!-- Action for hotel room amenities type -->
        <!-- <record model="ir.actions.act_window" id="action_hotel_room_amenities_type_view_form">
            <field name="name">Hotel Room Amenities Type</field>
            <field name="res_model">hotel.room.amenities.type</field>
            <field name="context">{'default_isamenitytype':1}</field>
			<field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem  id="menu_amenity" name="Amenity" parent="hotel.hotel_configuration_menu" sequence="2"/>
        <menuitem name="Amenity Types"
                  id="menu_action_hotel_room_amenities_type_view_form"
                  action="action_hotel_room_amenities_type_view_form"
                  sequence="3"
                  parent="hotel.menu_amenity"/> -->

 		<!--===============================================================
                                Room Amenities
        ===============================================================-->

       <!-- Form view of hotel room amenities -->
       <!-- <record id="view_hotel_room_amenities_form" model="ir.ui.view" >
            <field name="name">hotel.room.amenities.form</field>
            <field name="model">hotel.room.amenities</field>
            <field name="arch" type="xml">
                <form string="Hotel Room Amenities" >
                  <sheet>
                    <h1>
                        <label string="Amenity" />
                        <field name="name" select="1"/>
                    </h1>
                    <group>
                        <field name="default_code" select="1"/>
                    </group>
                    <notebook>
                        <page string="Information">
                           <group colspan="4" col="4">
                            <field name="type" select="2" string="Amenity Type"/>
                            <field name="product_manager" select="2" string="Amenity manager"/>
                            <field name="state" select="2"/>
                            <field name="categ_id" select="1" domain="[('isamenitytype','=',True)]"/>
                            <field name="uom_id"/>
                            <field name="uom_po_id"/>
                           </group>
                           <newline/>
                           <separator colspan='4' string="Supplier Taxes"/>
                           <field name="supplier_taxes_id" colspan="4" nolabel='1' help='Define supplier taxes if there any on the ty. '/>
                           <newline/>
                           <separator colspan='4' string="Customer Taxes"/>
                           <field name="taxes_id" colspan="4" nolabel='1' help='List of customer taxes applied on the ty. '/>
                        </page>

                        <page string="Procurement">
                            <group colspan="4" col="4">
                                <field name="active" select="2"/>
                                <field name="list_price"/>
                                <field name="cost_method"/>
                                <field name="sale_ok" select="2"/>
                                <field name="standard_price"/>
                                <field name="rental" select="2"/>
                                <field name="uos_id" />
                                <field name="uos_coeff" />
                             </group>
                            <newline />
                            <group>
                                <separator string="Suppliers" />
                                <field name="seller_ids" colspan="4" nolabel="1" widget="one2many_list"/>
                            </group>
                        </page>
                        <page string="Descriptions">
                            <separator string="Description" />
                            <field name="description" colspan="4" nolabel="1" />
                            <separator string="Sale Description"/>
                            <field name="description_sale" colspan="4" nolabel="1"/>
                            <separator string="Purchase Description"/>
                            <field name="description_purchase" colspan="4" nolabel="1"/>
                        </page>
                    </notebook>
                   </sheet>
                </form>
            </field>
        </record> -->

        <!-- Search view of hotel room amenities -->
		<!-- <record model="ir.ui.view" id="view_hotel_room_aenities_search">
            <field name="name">hotel.room_amenities_search</field>
            <field name="model">hotel.room.amenities</field>
            <field name="arch" type="xml">
                <search string="Hotel Room Amenities">
                    <field name="name" />
                    <field name="categ_id" select="1"/>
                    <field name="list_price" string="ty rate"/>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter name="categ_id" string="Catagory" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'categ_id'}" />
                    </group>
                </search>
            </field>
        </record> -->

        <!-- Tree view of hotel room amenities -->
        <!-- <record model="ir.ui.view" id="view_hotel_room_amenities_list">
            <field name="name">hotel.room_amenities_list</field>
            <field name="model">hotel.room.amenities</field>
            <field name="arch" type="xml">
                <tree string="Hotel Room Amenities">
                    <field name="name" />
                    <field name="categ_id" select="1"/>
                    <field name="list_price" string="Ty rate" invisible="1"/>
                </tree>
            </field>
        </record> -->

        <!-- Action for hotel room amenities -->
        <!-- <record model="ir.actions.act_window" id="action_hotel_room_amenities_view_form">
            <field name="name">Hotel Room Amenities</field>
            <field name="res_model">hotel.room.amenities</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'default_iscategid':1}</field>
            <field name="view_id" ref="view_hotel_room_amenities_list"/>
        </record>
        <menuitem name="Amenities"
                  id="menu_action_hotel_room_amenities_view_form"
                  action="action_hotel_room_amenities_view_form"
                  sequence="2"
                  parent="hotel.menu_amenity"/> -->

		<!--===================================================
                                Rooms
        =================================================== -->

        <!-- Form view of hotel room  -->
        <record model="ir.ui.view" id="view_hotel_room_form">
            <field name="name">hotel.room.form</field>
            <field name="model">hotel.room</field>
            <field name="arch" type="xml">
                <form string="Vehicles" >
                <header>
                    <field name="state" string="Vehicle Status" widget='statusbar'/>
                </header>
                <sheet>
                <div class="oe_title">
			    <label for="name" string="Name" />
			        <h1>
			            <field name="name" select="1"/>
			        </h1>
			        <label for="status" string="Status"/>
			        <h2>
			            <field name="status" />
			        </h2>
				</div>
				<notebook>
						<page string="Information">
                         <group colspan="4">
                            <group>
                              <field name="active" select="2"/>
                              <field name="categ_id" select="1" domain="[('isroomtype','=',True)]"/>
                            <!-- <field name="product_manager" select="2" string="Room Manager"/> -->
                              <field name="capacity"/>
                              <field name="uom_id" invisible="1"/>
                              <field name="roadtax_due_date"/>
                              <field name="inspect_due_date"/>
                            </group>
                            <group>
                              <field name="vehicle_no"/>
                              <field name="model"/>
                              <field name="engine_no"/>
                              <field name="chassis_no"/>
                            </group>
                            <group>
                              <field name="y_o_m"/>
                              <field name="reg_date"/>
                              <field name="coe_expiry"/>
                              <field name="mileage" />
                            </group>
                            <group>
                                <field name="parf"/>
                                <field name="non_parf"/>
                                <field name="company_reg"/>
                                <field name="no_of_transfer"/>
                            </group>
                            <group>
                           		<field name="attachment" />
                           		<field name="deck" />
                            </group>
                          </group>
                            <newline/>
                            <!-- <separator colspan='4' string="Supplier Taxes"/>
                            <field name="supplier_taxes_id" colspan="4" nolabel='1' help='List of supplier taxes if there any on the defined room. '/>
                            <newline/>
                            <separator colspan='4' string="Customer Taxes"/>
                            <field name="taxes_id" colspan="4" nolabel='1' help='Customer taxes apply on the perticular room. '/> -->
                        </page>
                        <!-- <page string = "Room Amenities">
                            <separator string=" Room Amenities"/>
                            <field name="room_amenities" colspan="4" nolabel="1"/>
                        </page> -->
                        <page string="Costing">
                          <group colspan="4" col="4">
                            <!-- <field name="active" select="2"/> -->
                            <field name="list_price"/>
                            <field name="rental" select="2"/>
                            <field name="standard_price"/>
                            <field name="cost_method"/>
                            <field name="uos_id"/>
                            <field name="uos_coeff" />
                             <newline/>
                           </group>
                          <newline/>
                          <group>
                            <separator string="Suppliers" />
                            <field name="seller_ids" colspan="4" nolabel="1" widget="one2many_list"/>
                          </group>
                        </page>
                        <page string="Descriptions">
                            <separator string="Description" />
                            <field name="description" colspan="4" nolabel="1" />
                        </page>
                </notebook>
                </sheet>
                </form>
            </field>
        </record>

        <!-- Search view of hotel room  -->
        <record model="ir.ui.view" id="view_hotel_room_search">
            <field name="name">hotel.room.search</field>
            <field name="model">hotel.room</field>
            <field name="arch" type="xml">
                <search string="Vehicles" >
                    <field name="name" />
                    <field name="categ_id" select="1"/>
                    <field name="list_price" string="Vehicle Rate/Day"/>
                    <field name="state" string="Status"/>
                    <newline/>
                    <filter string="Available" domain="[('status','=', 'available')]" help="Available Vehicles" />
                    <filter string="Rented" domain="[('status','=', 'occupied')]" help="Rented Vehicles" />
                    <filter string="Maintenance" domain="[('status','=', 'maintain')]" help="Vehicles Under Maintenance" />
                </search>
            </field>
        </record>

		<!-- Tree view of hotel room  -->
		<record model="ir.ui.view" id="view_hotel_room_tree">
			<field name="name">hotel.room.tree</field>
			<field name="model">hotel.room</field>
			<field name="arch" type="xml">
				<tree string="Vehicles" >
					<field name="name" />
					<field name="categ_id" select="1"/>
					<field name="list_price" string="Vehicle Rate/Day"/>
					<field name="status"/>
					<!-- <field name="capacity"/> -->
				</tree>
			</field>
		</record>

        <!-- Kanban view of hotel room  -->
        <record model="ir.ui.view" id="view_hotel_room_kanban">
            <field name="name">hotel.room.kanban</field>
                <field name="model">hotel.room</field>
            <field name="arch" type="xml">
                <kanban filter="status" >
                    <field name="name" />
                    <field name="status" />
                    <field name="color" />
                    <field name="lst_price"/>
                    <templates>
                         <t t-name="kanban-box">
                             <div class="oe_kanban_vignette oe_semantic_html_override oe_kanban_card oe_kanban_project oe_kanban_global_click">
                                <div class="oe_dropdown_toggle oe_dropdown_kanban" groups="base.group_user">
                                <span class="oe_e">í</span>
                                        <ul class="oe_dropdown_menu">
                                            <t t-if="widget.view.is_action_enabled('edit')"><li><a type="edit">Edit</a></li></t>
                                            <t t-if="widget.view.is_action_enabled('delete')"><li><a type="delete">Delete</a></li></t>
                                            <li><ul class="oe_kanban_colorpicker" data-field="color"/></li>
                                        </ul>
                                </div>
                                <div class="oe_kanban_details" style='margin-top: -5px;'>
                                   <div class="oe_kanban_content">
                                       <div class="oe_kanban_project_list">
                                           <H3>
                                           <a type="open">
                                               <t t-if="record.code.raw_value" style="margin-right: 10px">[<field name="code" />] </t> <field name="name"/>
                                           </a>
                                           </H3>
                                       </div>
                                       <div name="tags"/>
                                            <ul>
                                                <li>Status: <field name="status"></field></li>
                                                <li>Rate: <field name="lst_price"></field></li>
                                            </ul>
                                   </div>
                                   <div class="oe_kanban_bottom_right">
                                      <a t-if="record.status.raw_value === 'available'" type="object" string="Available" name="set_room_status_occupied" class="oe_kanban_status oe_kanban_status_green "> </a>
                                      <a t-if="record.status.raw_value === 'occupied'" type="object" string="occupied" name="set_room_status_available" class="oe_kanban_status oe_kanban_status_red " > </a>
                                         <a t-if="record.status.raw_value === 'maintain'" type="object" string="Maintenance" name="set_room_status_available" class="oe_kanban_status oe_kanban_status_red " > </a>
                                    </div>
                                </div>
                             </div>
                         </t>
                     </templates>
                </kanban>
            </field>
        </record>

        <!-- Action for hotel room  -->
		<record model="ir.actions.act_window" id="action_hotel_room_form">
			<field name="name">Vehicles</field>
			<field name="res_model">hotel.room</field>
			<field name="view_type">form</field>
			<field name="context">{'default_isroom':1,'default_rental':1}</field>
			<field name="view_id" ref="view_hotel_room_tree"/>
			<field name="view_mode">kanban,tree,form</field>
		</record>

		<menuitem name="Vehicles"
				  id="menu_open_hotel_room_form"
				  action="action_hotel_room_form"
				  sequence="5"
				  parent="hotel.menu_hotel_room"/>

  	   <!--========================================================
                                Hotel Folio
        ========================================================-->

       <!-- Form view of hotel folio  -->
       <record model="ir.ui.view" id="view_hotel_folio1_form">
            <field name="name">hotel.folio.form</field>
            <field name="model">hotel.folio</field>
            <field name="arch" type="xml">
                <form string="Invoicing">
                 <header>
                     <button name="order_confirm" string="Confirm Invoicing" states="draft" icon="gtk-apply" class="oe_highlight"/>
                     <button name="invoice_recreate" string="Recreate Invoice" states="invoice_except" icon="gtk-redo" class="oe_highlight"/>
                     <button name="invoice_corrected" string="Invoice Corrected" states="invoice_except" icon="gtk-paste-v" class="oe_highlight"/>
                     <button name="ship_recreate" string="Recreate Procurement" states="shipping_except" icon="gtk-redo" class="oe_highlight"/>
                     <button name="ship_corrected" string="Procurement Corrected" states="shipping_except" icon="gtk-paste-v" class="oe_highlight"/>
                     <button name="manual_invoice" states="manual" string="Create Invoice" icon="gtk-new" class="oe_highlight"/>
                     <button name="ship_cancel" string="Cancel Invoicing" states="shipping_except" icon="gtk-cancel" class="oe_highlight oe_highlight" />
                     <button name="action_cancel_draft" states="cancel" string="Set to Draft" type="object" icon="gtk-file" class="oe_highlight"/>
                     <button name="action_cancel" string="Cancel Invoicing" states="manual,progress" type="object" icon="gtk-cancel" class="oe_highlight"/>
                     <button name="cancel" string="Cancel Invoicing" states="draft" icon="gtk-cancel" class="oe_highlight"/>
                     <button name="invoice_cancel" string="Cancel Invoicing" states="invoice_except" icon="gtk-cancel" class="oe_highlight"/>
                     <field name="state" select="2" widget="statusbar" statusbar_visible="draft,sent,invoiced,done"/>
                 </header>
                  <sheet>
                    <label string="Booking Number"/>
                    <h1>
                     <field name="name" colspan="4"/>
                    </h1>
                    <group colspan="4" col="4">
                        <field name="date_order"/>
                        <field name="invoiced"/>
                        <field name="warehouse_id" string="Company"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Booking Details">
                         <group colspan="4" col="4">
                            <field name="partner_id"  string="Customer Name" required="1"/>
                            <field name="partner_invoice_id"  domain="[('parent_id','=',partner_id)]"/>
                            <field name="pricelist_id"  domain="[('type','=','sale')]" />
                            <!-- <field name="project_id"/> -->
                            <field name="partner_shipping_id" domain="[('parent_id','=',partner_id)]" invisible="1"/>
                         </group>
                            <newline/>
                            <group colspan="4" col="4">
                                <field name="checkin_date"/>
                                <field name="date_select"/>
                                <field name="date_length"/>
                                <field name="checkout_date"/>
                                <field name="deposit"/>
                                <field name="duration" invisible="1" />
                            </group>
                            <separator string="Booking Lines" colspan="4"/>
                            <field name="room_lines"  colspan="4" string="Booking Line" default_get="{'checkin_date': checkin_date,'checkout_date':checkout_date}" nolabel="1">
                                <form string="Booking Line"  >
                                    <notebook>
                                        <page string="Booking Line">
                                            <group>
                                            <field name="checkin_date"/>
                                            <field name="checkout_date" />
                                            <separator string="Automatic Declaration" colspan="4"/>
                                            <field name="product_uom_qty" context="{'partner_id':parent.partner_id,'quantity':product_uom_qty,'pricelist':parent.pricelist_id,'uom':product_uom}"
                                                invisible="1" on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, False, False, parent.date_order)"/>
                                            <field name="product_uom" string="Rent(UOM)" on_change="product_uom_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, False, False, parent.date_order)"/>
                                            <field name="product_id" context="{'partner_id':parent.partner_id,'quantity':product_uom_qty,'pricelist':parent.pricelist_id,'uom':product_uom}"
                                                colspan="4" select="1" domain="[('isroom','=',True)]" string="Vehicle No" on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, False, True, parent.date_order)" />
                                            </group>
                                            <separator string="Manual Description"
                                                colspan="4" />
                                            <field name="name" colspan="4" select="2" placeholder="---Description---"/>
                                            <group>
                                            <field name="price_unit" select="2" string="Rent"/>
                                            <newline/>
                                            <!-- <field name="tax_id" colspan="4" nolabel="1"/> -->
                                            <separator string="States" colspan="4"/>
                                            <field name="state" select="2"/>
                                            <field name="invoiced" select="2"/>
                                            </group>
                                        </page>
                                        <page string="Extra Info">
                                            <group>
                                            <field name="product_uos_qty"/>
                                            <field name="product_uos"  />
                                            <field name="address_allotment_id" select="2"/>
                                            </group>
                                        </page>
                                        <page string="History">
                                            <separator string="Invoice Lines" colspan="4"/>
                                            <field name="invoice_lines" colspan="4" nolabel="1"/>
                                        </page>
                                    </notebook>
                                </form>
                                <tree string = "Booking Line">
                                    <field name="name"/>
                                    <field name="checkin_date"/>
                                    <field name="checkout_date"/>
                                    <field name="product_id" string="Vehicle No"/>
                                    <field name="product_uom" string="Rent(UOM)"/>
                                    <field name="price_unit" string="Rent/Day"/>
                                    <field name="price_subtotal"/>
                                    <field name="state"/>
                                </tree>
                            </field>
                            <separator string="Service Lines" colspan="4"/>
                            <field name="service_lines"  colspan="4" string = "Service Line" nolabel="1">
                                <form string="Service Line"  >
                                    <notebook>
                                        <page string="Service Line">
                                            <separator string="Automatic Declaration" colspan="4"/>
                                            <group>
                                            <field name="product_uom_qty" select="1" context="{'partner_id':parent.partner_id,'quantity':product_uom_qty,'pricelist':parent.pricelist_id,'hotel':parent.warehouse_id,'uom':product_uom}"  on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, False, False, parent.date_order)"/>
                                            <field name="product_uom" on_change="product_uom_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, False, False, parent.date_order)"/>
                                            <field name="product_id" select="1" domain="[('isservice','=',True)]" context="{'partner_id':parent.partner_id,'quantity':product_uom_qty,'pricelist':parent.pricelist_id,'hotel':parent.warehouse_id,'uom':product_uom}" on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, False, True, parent.date_order)"/>
                                            </group>
                                            <separator string="Manual Description"
                                                colspan="4"/>
                                            <field name="name" colspan="4" select="2" placeholder="---Description---"/>
                                            <group>
                                            <field name="price_unit" select="2"/>
                                            </group>
                                            <newline/>
                                            <field name="tax_id" colspan="4"/>
                                            <group>
                                            <separator string="States" colspan="4"/>
                                            <field name="state" select="2"/>
                                            <field name="invoiced" select="2"/>
                                            </group>
                                        </page>
                                        <page string="Extra Info">
                                            <group>
                                            <field name="product_uos_qty"/>
                                            <field name="product_uos"  />
                                            <field name="address_allotment_id" select="2"/>
                                            </group>
                                        </page>
                                        <page string="History">
                                            <separator string="Invoice Lines" colspan="4"/>
                                            <field name="invoice_lines" colspan="4" nolabel="1"/>
                                        </page>
                                    </notebook>
                                </form>
                                <tree string="Service Line">
                                    <field name="name"/>
                                    <field name="product_id" />
                                    <field name="product_uom_qty"/>
                                    <field name="price_unit"/>
                                    <field name="price_subtotal"/>
                                    <field name="state"/>
                                </tree>
                            </field>
                            <group colspan="2" class="oe_subtotal_footer oe_right">
                                <field name="amount_untaxed" sum="Untaxed amount" widget='monetary' />
                                <field name="amount_tax" widget='monetary'/>
                                <field name="deposit_amt" widget='monetary'/>
                                   <div class="oe_subtotal_footer_separator oe_inline">
                                   	 	<label for="amount_total" />
                                    	<button name="button_dummy" string="Compute" states="draft" type="object" icon="terp-sale" class="oe_highlight"/>
                                   </div>
                                <field name="amount_total" nolabel="1" sum="Total amount" widget='monetary'/>
                            </group>
                           <div class="oe_clear"/>
                        </page>
                        <page string="Other data">
                          <group>
                            <field name="user_id"/>
                            <field name="order_policy" invisible="1"/>
                            <field name="hotel_policy" attrs="{'readonly':[('state','not in',('draft'))]}"/>
                            <field name="client_order_ref" />
                          </group>
                        </page>
                        <page string="History">
                            <separator string="Related invoices" colspan="4"/>
                            <field name="invoice_ids" colspan="4" nolabel="1"/>
                        </page>
                    </notebook>
                 </sheet>
                </form>
            </field>
        </record>

        <!-- Tree view of hotel folio  -->
        <record model="ir.ui.view" id="view_hotel_folio1_tree">
            <field name="name">hotel.folio.tree</field>
            <field name="model">hotel.folio</field>
            <field name="arch" type="xml">
                <tree string="Booking/Invoice " colors="blue:state == 'draft';gray:state == 'done'">
                    <field name="checkin_date" />
                    <field name="checkout_date" />
                    <field name="name" select="1"/>
                    <field name="partner_id"  select="1"/>
                    <field name="date_order" select="1"/>
                    <field name="state"/>
                    <field name="amount_total" sum="Total amount"/>
                </tree>
            </field>
        </record>

        <!-- Calendar view of hotel folio  -->
        <record model="ir.ui.view" id="hotel_folio_calendar_view">
            <field name="name">Vehicle Booking Calendar</field>
            <field name="model">hotel.folio</field>
            <field name="arch" type="xml">
                <calendar string="Booking/Invoiced" date_start="checkin_date" color="user_id" date_stop="checkout_date">
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="duration"/>
                </calendar>
            </field>
        </record>

        <!-- Search view of hotel restaurant tables -->
        <record model="ir.ui.view" id="view_hotel_folio_search">
            <field name="name">hotel.folio.search</field>
            <field name="model">hotel.folio</field>
            <field name="arch" type="xml">
                <search string="Tables Detail">
                    <group expand="0" string="Group By">
                        <filter string="Order Month" domain="[]" context="{'group_by':'date_order'}"/>
                        <filter name="partner_id" string="Customer" icon="terp-stock_symbol-selection" context="{'group_by':'partner_id'}" />
                        <filter name="user_id" string="Salesman" icon="terp-stock_symbol-selection" context="{'group_by':'user_id'}" />
                    </group>
                </search>
            </field>
        </record>

    <!--graph view-->
    <record id="view_hotel_folio_graph" model="ir.ui.view">
        <field name="name">view.hotel.folio.graph</field>
        <field name="model">hotel.folio</field>
        <field name="arch" type="xml">
            <graph type="bar">
                <field name="date_order" type="row"/>
                <field name="amount_total" type="measure"/>
            </graph>
        </field>
    </record>


        <!-- Action for hotel folio  -->
        <record model="ir.actions.act_window" id="open_hotel_folio1_form_tree_all">
            <field name="name">Vehicle Booking/Invoicing</field>
            <field name="res_model">hotel.folio</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
        </record>

        <menuitem  id="menu_all_folio"
                   name="Invoicing"
                   parent="hotel.hotel_management_menu"
                   sequence="4"/>

        <menuitem name="Generate Booking/Invoice"
                  id="menu_open_hotel_folio1_form_tree_all"
                  action="open_hotel_folio1_form_tree_all"
                  sequence="5"
                  parent ="menu_all_folio"/>

		<!-- Services -->
		<!-- Form view of hotel service type  -->
		<record model="ir.ui.view" id="view_hotel_service_type_form">
			<field name="name">hotel.service_type.form</field>
			<field name="model">hotel.service.type</field>
			<field name="arch" type="xml">
				<form string="Service Type" >
                  <sheet>
                   <group>
                    <field name="name" select="1" string="Service Name"/>
                    <field name="parent_id" domain="[('isservicetype','=',True)]" select="1"/>
                    <field name = "isservicetype" invisible="1"/>
                   </group>
                  </sheet>
                </form>
            </field>
        </record>

        <!-- Tree view of hotel service type  -->
        <record model="ir.ui.view" id="view_hotel_service_type_tree">
            <field name="name">hotel.service_type.tree</field>
            <field name="model">hotel.service.type</field>
            <field name="arch" type="xml">
                <tree string="Service Type">
                    <field name="complete_name"/>
                </tree>
            </field>
        </record>

        <!-- Action for hotel service type  -->
        <record model="ir.actions.act_window" id="open_hotel_service_type_form_tree">
            <field name="name">Service Type</field>
            <field name="res_model">hotel.service.type</field>
            <field name="context">{'default_isservicetype':1}</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem id="menu_hotel_service" name="Services" parent="hotel.hotel_configuration_menu" sequence="2"/>
        <menuitem name="Service Types"
                  id="menu_open_hotel_service_type_form_tree"
                  action="open_hotel_service_type_form_tree"
                  sequence="9"
                  parent="hotel.menu_hotel_service"/>

        <!-- Form view of hotel service -->
        <record model="ir.ui.view" id="view_hotel_services_form">
            <field name="name">.hotel.services.form</field>
            <field name="model">hotel.services</field>
            <field name="arch" type="xml">
                <form string="Vehicle Services" >
                <sheet>
                <h1>
                    <label string="Service" />
                    <field name="name" select="1"/>
                </h1>
                <group>
                    <field name="default_code" select="1" />
                </group>
                <notebook>
                        <page string="Information">
                          <group>
                          <group colspan="4" col="4">
                            <field name="type" select="2" string="Service Type"/>
                            <field name="state" select="2"/>
                            <field name="categ_id" domain="[('isservicetype','=',True)]" select="1"/>
                            <field name="product_manager" select="2" string="Service Manager"/>
                            <field name="uom_id"/>
                            <field name="uom_po_id"/>
                          </group>
                          </group>
                            <newline/>
                            <!-- <separator colspan='4' string="Supplier Taxes"/>
                            <field name="supplier_taxes_id" colspan="4" nolabel='1' help='List of supplier taxes related to the service provided by hotel.'/>
                            <newline/>
                            <separator colspan='4' string="Customer Taxes"/>
                            <field name="taxes_id" colspan="4" nolabel='1' help='Customer taxes applied on the service.'/> -->
                        </page>
                        <page string="Costing">
                            <group colspan="4" col="4">
                                <field name="active" select="2"/>
                                <field name="list_price"/>
                                <field name="cost_method"/>
                                <field name="sale_ok" select="2"/>
                                <field name="standard_price"/>
                                <field name="rental" select="2"/>
                                <field name="uos_id" />
                                <field name="uos_coeff" />
                             </group>
                            <newline />
                            <group>
                                <!-- <separator string="Suplliers" />
                                <field name="seller_ids" colspan="4" nolabel="1" widget="one2many_list"/> -->
                            </group>
                        </page>
                        <page string="Descriptions">
                            <separator string="Description" />
                            <field name="description" colspan="4" nolabel="1" />
                            <separator string="Sale Description"/>
                            <field name="description_sale" colspan="4" nolabel="1"/>
                            <separator string="Purchase Description"/>
                            <field name="description_purchase" colspan="4" nolabel="1"/>
                        </page>
                </notebook>
                </sheet>
                </form>
            </field>
        </record>

        <!-- Tree view of hotel service -->
		<record model="ir.ui.view" id="view_hotel_services_search">
            <field name="name">hotel.services.search</field>
            <field name="model">hotel.services</field>
            <field name="arch" type="xml">
                <search string="Vehicle Services" >
                    <field name="name" />
                    <field name="categ_id" select="1"/>
                    <field name="list_price" string="Service rate"/>
                    <newline/>
                    <group expand="0" string="Group By...">
                        <filter name="categ_id" string="Catagory" icon="terp-stock_symbol-selection" domain="[]" context="{'group_by':'categ_id'}" />
                    </group>
                </search>
            </field>
        </record>

        <!-- Tree view of hotel service -->
        <record model="ir.ui.view" id="view_hotel_services_tree">
            <field name="name">hotel.services.tree</field>
            <field name="model">hotel.services</field>
            <field name="arch" type="xml">
                <tree string="Vehicle Services" >
                    <field name="name" />
                    <field name="categ_id"/>
                    <field name="list_price" string="Service rate"/>
                </tree>
            </field>
        </record>

        <!-- Action for hotel service -->
        <record model="ir.actions.act_window" id="action_hotel_services_form">
            <field name="name">Vehicle Services</field>
            <field name="res_model">hotel.services</field>
            <field name="view_type">form</field>
            <field name="context">{'default_isservice':1}</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem name="Vehicle Services"
                  id="menu_open_hotel_services_form"
                  action="action_hotel_services_form"
                  sequence="8"
                  parent="hotel.menu_hotel_service"/>

		<!-- Categories for Room, Amenities, Services -->
        <record model="ir.actions.act_window" id="hotel_room_category_action">
            <field name="name">Vehicles by Category</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.category</field>
            <field name="domain">[('parent_id','=',False),('isroomtype','=',True)]</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="product.product_category_tree_view"/>
        </record>
        <menuitem name="Vehicle by Type"
                  id="menu_hotel_room_category_action"
                  action="hotel_room_category_action"
                  sequence="7"
                  parent="hotel.menu_hotel_room"/>

        <!-- <record model="ir.actions.act_window" id="hotel_ty_category_action">
            <field name="name">Amenities by Category</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.category</field>
            <field name="domain">[('parent_id','=',False),('isamenitytype','=',True)]</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="product.product_category_tree_view"/>
        </record>
        <menuitem name="Amenities by Type"
                  id="menu_hotel_ty_category_action"
                  action="hotel_ty_category_action"
                  sequence="4"
                  parent="hotel.menu_amenity"/> -->

        <record model="ir.actions.act_window" id="hotel_service_category_action">
            <field name="name">Services by Category</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.category</field>
            <field name="domain">[('parent_id','=',False),('isservicetype','=',True)]</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="product.product_category_tree_view"/>
        </record>
        <menuitem name="Services by Type"
                  id="menu_hotel_service_category_action"
                  action="hotel_service_category_action"
                  sequence="10"
                  parent="hotel.menu_hotel_service"/>
    </data>
</openerp>
